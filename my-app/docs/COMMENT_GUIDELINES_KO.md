# 주석 및 설명 한글화 가이드라인 (COMMENT_GUIDELINES_KO)

본 문서는 코드 내 모든 “주석(Comments)” 및 “설명 문서(Documentation)”를 한국어로 일관성 있게 작성하기 위한 팀 표준입니다.  
대상: 신규/기존 소스코드, 위키/Markdown 문서, 자동 생성이 아닌 수동 작성 주석.

---

## 1. 목적
- 가독성 향상: 팀 전원이 빠르게 의도를 파악.
- 유지보수 용이성: 의도/배경/제약을 코드와 함께 남겨 재해석 비용 감소.
- 온보딩 속도 개선: 신규 인원이 도메인 맥락을 빠르게 습득.
- 의사결정 추적: 왜 이런 형태/구조/패턴을 택했는지 기록.

---

## 2. 적용 범위
| 구분 | 적용 여부 |
|------|-----------|
| 소스코드 파일 상단 헤더 | 필수 |
| 함수/메서드/컴포넌트 선언부 | 권장(도메인/비즈니스 로직이면 필수) |
| 복잡한 제어 흐름 / 알고리즘 | 필수 |
| 단순 getter/setter / 명백한 UI 마크업 | 생략 가능 |
| 테스트 코드 | 시나리오/목적 위주 주석 권장 |
| 구성 파일(빌드/CI) | 비표준 설정 이유 기재 권장 |

---

## 3. 언어 원칙
1. 기본은 자연스러운 한국어 서술형.
2. 전문 용어 중 개발 용례가 굳어진 단어(예: hook, debounce, hydration)는 원문 병기 가능.  
   - 형식: `Hydration(하이드레이션)` 또는 `하이드레이션(Hydration)` → 팀 내 합의 후 일관 유지.
3. 문장 종결은 “한다”체 (예: “초기화한다”, “렌더링한다”).
4. 영어 문장 자체를 그대로 붙여 넣지 않는다 (RFC/논문 인용 제외).
5. 약어(acronym) 최초 등장 시 풀네임 + 약어 표기: “도메인 주도 설계(DDD)”.

---

## 4. 주석 스타일
| 항목 | 규칙 |
|------|------|
| 한 줄 주석 | `// 설명...` (간단한 맥락) |
| 블록 주석 | `/** ... */` (JSDoc / TSDoc 스타일) |
| 들여쓰기 | 코드와 동일한 depth 유지 |
| 줄바꿈 | 80~100자 권장 (가독 범위) |
| 문법 | 되도록 완전한 문장, 불필요한 감탄/구어체 지양 |

---

## 5. 파일 / 모듈 헤더 주석
필수 포함 요소:
```
/**
 * 파일 역할(요약 1~2문장)
 * - 주요 기능 혹은 포함된 개념 bullet
 * - 외부로 노출하는 핵심 API/컴포넌트
 * 작성/변경 히스토리가 중요한 경우(선택):
 *   - 2025-01-03: 인증 로직 분리 (이유: 결합도 감소)
 */
```

---

## 6. 함수 / 메서드 주석 (TSDoc 권장)
포맷 예:
```
/**
 * 사용자 프로필을 서버에서 조회하고 캐시를 갱신한다.
 *
 * 동작:
 * 1. 로컬 캐시 확인
 * 2. 만료 또는 없음 → 원격 호출
 * 3. 역직렬화 & 정규화 후 상태 저장
 *
 * 성능 고려:
 * - 과도한 동시 호출 방지를 위해 요청 합치기(batch) 예정 (TODO 추적)
 *
 * @param userId 조회 대상 사용자 ID
 * @returns 정규화된 사용자 프로필 객체
 * @throws NotFoundError 사용자가 존재하지 않을 때
 */
```

---

## 7. 타입 / 인터페이스 주석
- “어떤 시나리오에서 소비되는 구조인지”를 강조.
```
/**
 * 주문 요약 데이터 전송 객체.
 * - 결제 페이지 상단 요약 카드 표시용
 * - 통계 모듈에서는 amountTotal 만 사용
 */
export interface OrderSummary { ... }
```

---

## 8. React 컴포넌트 주석
| 컴포넌트 유형 | 주석 권장 레벨 |
|---------------|----------------|
| 디자인 시스템 primitive(Button 등) | Prop 의미/상호작용 |
| 복합 컨테이너(Wizard, Dashboard) | UX 흐름, 상태 전이 |
| 페이지 레벨 | 데이터 패칭 전략 / 레이아웃 책임 |

예:
```
/**
 * ProductCard
 * - 목록/추천 영역에서 공통 사용
 * - 재고/할인 뱃지 조건 분기 포함
 * 접근성:
 * - 이미지 대체텍스트는 name 기반 동적 생성
 */
```

---

## 9. 로직 블록 / 알고리즘 주석
- “무엇을”이 아닌 “왜 이렇게”에 집중.
- 외부 자료/공식 문헌 기반이면 출처(URL/RFC) 제공.
```
/**
 * Topological Sort 변형:
 * - 순환 검출 시 즉시 예외
 * - 동적 의존성 추가 허용 (빌드 그래프 확장 케이스)
 * 참고: Kahn's algorithm 변형
 */
```

---

## 10. TODO / FIXME 규칙
| Tag | 의미 | 형식 예시 |
|-----|------|----------|
| TODO | 예정된 개선/확장 | `// TODO(로그인 통합 후 삭제)` |
| FIXME | 현재 버그/임시 우회 | `// FIXME: race condition - retry 로직 제거 필요` |
| NOTE | 보충 설명/주의 | `// NOTE: 모바일 Safari에서 only passive listener 필요` |

추가 규칙:
- 반드시 “이유(why)” 포함
- 추적 이슈 번호 있으면 병기: `// TODO(#123): SSR 대응`

---

## 11. 영어 사용 허용 사례
1. 표준 명세 / 프로토콜명 (WebSocket, GraphQL schema 등)
2. 라이브러리/패턴 고유 명칭 (Redux, Observer Pattern)
3. 잘 알려진 약어(API, URL, DOM)
4. 에러 메시지 중 외부 노출 문자열 (i18n 대상 분리 권장)

---

## 12. 용어 표준 (일부 예시)
| 영어 | 한글 표기 | 비고 |
|------|-----------|------|
| component | 컴포넌트 | |
| layout | 레이아웃 | |
| navigation | 내비게이션 | ‘네비’ 축약 금지 |
| hook | 훅 | 병기 불필요 |
| debounce | 디바운스 | |
| throttle | 스로틀(스로틀링) | 팀 내 합의 유지 |
| hydration | 하이드레이션 | |
| payload | 페이로드 | |
| fallback | 폴백 | ‘대체 처리’ 병기 가능 |
| ref (React) | ref | 영문 유지 |
| cache | 캐시 | |
| normalization | 정규화 | |
| stale | 오래된 상태 | 문맥 따라 ‘Stale’ 병기 허용 |

필요시 docs/TERMS_KO.md 로 확장.

---

## 13. 금지 / 지양 사항
| 유형 | 예 | 교정 |
|------|----|------|
| 의미 없는 반복 | `// 증가한다` (i++) | 삭제 |
| 코드 옮겨쓰기 | `// if 조건에 따라 true 반환` | 삭제 |
| 농담/사적 표현 | `// 여기서 요술 부립니다` | 구체적 로직 기술 |
| 방치된 TODO | 6개월 이상 미처리 | 정기 점검 |
| 혼합 언어 난립 | `// do fetch 후 데이터 렌더` | 일관된 한국어 서술 |

---

## 14. 예시 (Before / After)

### 예시 1
Before:
```ts
// get data
function fetchUser(id: string) { ... }
```
After:
```ts
/**
 * 사용자 단건 조회.
 * - 캐시 미스 시 네트워크 호출
 * - 추후: prefetch 전략 통합 예정 (TODO)
 */
function fetchUser(id: string) { ... }
```

### 예시 2
Before:
```ts
// make tree
function buildGraph(edges: Edge[]) { ... }
```
After:
```ts
/**
 * 방향 그래프 인접 리스트 구성.
 * - 순환 검출은 별도 단계에서 수행 (여기서는 단순 구조화)
 */
function buildGraph(edges: Edge[]) { ... }
```

---

## 15. 리뷰 체크리스트
| 질문 | Yes 아니면 수정 |
|------|------------------|
| “왜”가 드러나는가? | |
| 추후 변경 힌트(TODO/NOTE)가 명확한가? | |
| 도메인 용어 일관성 유지되는가? | |
| 중복/군더더기 설명 없는가? | |
| 유지보수자에게 실제 가치 있는가? | |
| 영어 혼용 최소화 되었는가? | |
| 임시/위험 로직에 이유가 있는가? | |

---

## 16. 적용 절차
1. 신규 코드 작성 시: 최소 파일 헤더 + 비자명 함수 주석 즉시 작성.
2. 기존 코드 리팩터링 시: 관련 블록 주석 최신화 (드리프트 제거).
3. PR 단계: 리뷰어가 주석 품질/일관성 확인.
4. 분기별 1회: 방치 TODO/FIXME 정리(문서화 또는 삭제).
5. 용어 신규 추가 필요 시: 팀 슬랙/노션 합의 후 용어 표에 반영.

---

## 17. FAQ
Q: “간단한 UI 컴포넌트에도 모두 주석 달아야 하나요?”  
A: 이름과 JSX 구조만으로 명확하면 생략. 재사용 패턴/접근성/비표준 처리 있으면 작성.

Q: “영어 변수명은 유지해도 되나요?”  
A: 네. 식별자(코드)는 영어 유지, 설명(주석)은 한국어.

Q: “외부 라이브러리 동작 설명을 번역해야 하나요?”  
A: 핵심 로직에 영향을 주는 부분만 ‘요약’하여 한글로 기록. 전체 번역 X.

Q: “주석이 코드와 어긋나면?”  
A: 주석은 ‘부채(Debt)’가 된다. 변경 시점에 반드시 갱신. 자동 점검 스크립트(추후) 고려.

---

## 18. 빠른 요약 (TL;DR)
- 한국어 서술 / “왜” 중심
- 도메인/복잡 로직/비표준 처리 위주로 작성
- TODO/FIXME → 이유 + 추적 근거
- 용어 표준 유지 / 과한 영어 혼용 금지
- 주석은 “변경 의도와 맥락” 전달 도구

---

본 가이드는 프로젝트 성장에 따라 개정 가능. 개선 제안은 Issue 또는 내부 문서 코멘트로 제출.

(끝)